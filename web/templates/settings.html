{% extends "base.html" %}

{% block title %}์ค์ - ์ฃผ์ ์๋ฆผ{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto space-y-6">
    <h1 class="text-2xl font-bold">โ๏ธ ์ค์</h1>
    
    <!-- ํ๋กํ -->
    <div class="bg-slate-800 rounded-2xl p-6 border border-slate-700">
        <h2 class="text-lg font-bold mb-4">๐ค ํ๋กํ</h2>
        
        <div class="space-y-4">
            <div class="flex items-center justify-between">
                <span class="text-slate-400">์ฌ์ฉ์ ์ด๋ฆ</span>
                <span class="font-medium">{{ user.name }}</span>
            </div>
            <div class="flex items-center justify-between">
                <span class="text-slate-400">ํ๋๊ทธ๋จ Chat ID</span>
                <span class="font-mono text-sm">{{ user.chat_id }}</span>
            </div>
            <div class="flex items-center justify-between">
                <span class="text-slate-400">ํฌ์ ๊ธ์ก</span>
                <span class="font-medium">{{ "{:,.0f}".format(user.investment_amount) }}์</span>
            </div>
        </div>
    </div>
    
    <!-- ์๋ฆผ ์ค์ -->
    <div class="bg-slate-800 rounded-2xl p-6 border border-slate-700" x-data="{ enabled: {{ 'true' if user.notification_enabled else 'false' }} }">
        <h2 class="text-lg font-bold mb-4">๐ ์๋ฆผ ์ค์</h2>
        
        <div class="flex items-center justify-between">
            <div>
                <p class="font-medium">์ค์๊ฐ ์๋ฆผ</p>
                <p class="text-sm text-slate-400">๋งค์ ํ์ด๋ฐ ๋๋ฌ ์ ์๋ฆผ ์์</p>
            </div>
            
            <button @click="
                enabled = !enabled;
                fetch('/api/user/notification', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({enabled: enabled})
                })
            " class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors"
               :class="enabled ? 'bg-blue-600' : 'bg-slate-600'">
                <span class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                      :class="enabled ? 'translate-x-6' : 'translate-x-1'"></span>
            </button>
        </div>
    </div>
    
    <!-- ๋ณด์ -->
    <div class="bg-slate-800 rounded-2xl p-6 border border-slate-700">
        <h2 class="text-lg font-bold mb-4">๐ ๋ณด์</h2>
        
        <a href="{{ url_for('auth.change_password') }}"
           class="flex items-center justify-between p-4 bg-slate-700/50 rounded-xl hover:bg-slate-700 transition-colors">
            <div>
                <p class="font-medium">๋น๋ฐ๋ฒํธ ๋ณ๊ฒฝ</p>
                <p class="text-sm text-slate-400">์น ๋ก๊ทธ์ธ ๋น๋ฐ๋ฒํธ๋ฅผ ๋ณ๊ฒฝํฉ๋๋ค</p>
            </div>
            <span class="text-slate-400">โ</span>
        </a>
    </div>
    
    <!-- ๋ก๊ทธ์์ -->
    <a href="{{ url_for('auth.logout') }}"
       class="block w-full py-4 text-center bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-2xl transition-colors border border-red-500/30">
        ๐ช ๋ก๊ทธ์์
    </a>
</div>
{% endblock %}

