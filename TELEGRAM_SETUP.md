# 📱 텔레그램 봇 설정 가이드

## 1단계: 핸드폰에 텔레그램 설치

### iPhone
1. **앱스토어** 열기
2. "Telegram" 검색
3. 다운로드 및 설치
4. 핸드폰 번호로 가입

### Android
1. **구글 플레이스토어** 열기
2. "Telegram" 검색
3. 다운로드 및 설치
4. 핸드폰 번호로 가입

## 2단계: 봇 생성 (3분 소요)

### A. BotFather에서 봇 만들기
1. 텔레그램 앱 실행
2. 검색창에 **`@BotFather`** 입력하고 선택
3. 대화 시작 버튼 클릭
4. 다음 명령어 입력:
   ```
   /newbot
   ```

5. **봇 이름** 입력 (예시):
   ```
   내 주식 알리미
   ```

6. **봇 사용자명** 입력 (예시):
   ```
   my_stock_alert_bot
   ```
   ⚠️ 반드시 `bot`으로 끝나야 합니다!

7. **토큰 받기** - 다음과 같은 메시지가 나옵니다:
   ```
   Done! Congratulations on your new bot.
   ...
   Use this token to access the HTTP API:
   1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
   ```
   
   ✅ 이 토큰을 **복사**해서 저장해두세요!

### B. 봇과 대화 시작
1. 방금 만든 봇 검색 (예: `@my_stock_alert_bot`)
2. **시작** 버튼 클릭
3. `/start` 입력

## 3단계: Chat ID 확인

### 방법 1: 웹브라우저 사용 (추천)
1. 웹브라우저 열기
2. 다음 주소로 이동 (토큰 부분을 자신의 것으로 교체):
   ```
   https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates
   ```
   
   예시:
   ```
   https://api.telegram.org/bot1234567890:ABCdefGHIjklMNOpqrsTUVwxyz/getUpdates
   ```

3. 결과에서 `"chat":{"id":123456789` 부분 찾기
4. 숫자 **123456789**가 당신의 **Chat ID**입니다!

### 방법 2: 봇 사용 (더 쉬움)
1. 텔레그램에서 `@userinfobot` 검색
2. 시작 버튼 클릭
3. Chat ID가 바로 표시됩니다!

## 4단계: 코드에 설정 입력

### config.py 파일 수정
```bash
cd /Users/jjongz/PycharmProjects/finacneFee
```

`config.py` 파일을 열고 다음 부분을 수정:

```python
TELEGRAM_CONFIG = {
    'BOT_TOKEN': '1234567890:ABCdefGHIjklMNOpqrsTUVwxyz',  # 여기에 받은 토큰 입력
    'CHAT_ID': '123456789',  # 여기에 받은 Chat ID 입력
}
```

⚠️ **중요**: 작은따옴표 `'` 안에 넣어야 합니다!

## 5단계: 패키지 설치

```bash
cd /Users/jjongz/PycharmProjects/finacneFee
source venv/bin/activate
pip install python-telegram-bot
```

## 6단계: 테스트

### 연결 테스트
```bash
python telegram_alert.py test
```

성공하면 핸드폰으로 메시지가 옵니다! ✅

### 전체 분석 실행
```bash
python telegram_alert.py
```

모든 종목 분석 결과와 차트가 텔레그램으로 전송됩니다! 🎉

## 📱 사용 예시

### 받게 될 알림:

**1. 개별 종목 분석**
```
📊 코스피200
══════════════════════════

💰 현재가: 554.00
📈 평균 일일 변동: +0.23%
📊 표준편차: 1.47%
   (하루 평균 ±1.47% 움직임)

📅 1년간 거래일:
   • 상승: 146일
   • 하락: 93일

🎯 매수 목표가:
   📍 1차: 545.84
      (하루 1.47% 하락 시)
   📍 2차: 537.67
      (하루 2.95% 하락 시)
```

+ 📊 차트 이미지

**2. 전체 요약**
```
📊 일일 변동성 분석 리포트
═══════════════════════════

🎯 변동성 순위:

1. SOXL
   • 표준편차: 7.46%
   • 현재가: 41.26

2. TQQQ
   • 표준편차: 4.49%
   • 현재가: 54.54

...
```

## 🔔 매수 신호 알림 (나중에 추가 가능)

실시간으로 가격을 모니터링해서 매수 기회가 오면 자동으로 알림을 보낼 수도 있습니다!

```
🔔 매수 신호 발생!
══════════════════

📊 코스피200

💰 현재가: 545.50
📉 하락률: -1.53%
🎯 목표가: 545.84
⭐ 상태: 1차 매수 시점!

💡 지금이 매수 기회입니다!
```

## ⚠️ 주의사항

1. **토큰은 비밀번호입니다!**
   - 절대 다른 사람과 공유하지 마세요
   - GitHub 등에 올리지 마세요

2. **봇 이름 변경**
   - 나중에 BotFather에서 `/setname`으로 변경 가능

3. **알림 빈도**
   - 너무 자주 보내면 텔레그램에서 제한할 수 있습니다
   - 하루 1~2회 정도가 적당합니다

## 🆘 문제 해결

### "Invalid token" 오류
- 토큰을 정확히 복사했는지 확인
- 앞뒤 공백이 없는지 확인

### "Chat not found" 오류  
- Chat ID가 맞는지 확인
- 봇과 대화를 시작했는지 확인 (`/start` 입력)

### 메시지가 안 와요
- 핸드폰 알림 설정 확인
- 텔레그램 앱이 최신 버전인지 확인
- 봇을 차단하지 않았는지 확인

## 📞 도움이 필요하면

문제가 있으면 터미널 출력 내용을 확인하세요!
에러 메시지가 문제 해결에 도움을 줍니다.

